# üìß Email Triage Zap Template - FollowThrough AI

## üéØ **Template Overview**

**Template Name**: Automated Email Triage with AI Analysis  
**Difficulty**: Easy (5-10 minutes setup)  
**Use Case**: Automatically analyze, categorize, and generate reply drafts for incoming emails  
**Expected Time Savings**: 70-90% reduction in manual email processing  

## üîß **Zap Configuration**

### **Step 1: Trigger - Gmail "New Email"**

**App**: Gmail  
**Trigger**: New Email  

**Configuration**:
```
Search String: is:unread to:support@yourcompany.com
Label: INBOX
```

**Advanced Options**:
- **Include Spam**: No
- **Include Attachments**: Yes (optional)
- **Max Results**: 1 (for real-time processing)

**Sample Trigger Data**:
```json
{
  "id": "18c2f1a2b3d4e5f6",
  "subject": "Payment gateway timeout error",
  "from": "customer@example.com",
  "to": "support@yourcompany.com",
  "body": "Hi, I'm experiencing issues with payment processing...",
  "timestamp": "2024-01-15T10:30:00Z",
  "labels": ["INBOX", "UNREAD"],
  "attachments": []
}
```

### **Step 2: Action - FollowThrough AI Email Triage**

**App**: FollowThrough AI Integration  
**Action**: Trigger Email Triage  

**Required Fields**:
```
Email ID: {{Gmail Trigger: Message ID}}
Email Subject: {{Gmail Trigger: Subject}}
Email Body: {{Gmail Trigger: Body Plain}}
From Email: {{Gmail Trigger: From Email}}
To Email: {{Gmail Trigger: To Email}}
Timestamp: {{Gmail Trigger: Date}}
```

**Optional Fields**:
```
Priority Override: (leave blank for AI detection)
Custom Instructions: "Focus on technical issues and customer sentiment"
Include Attachments: {{Gmail Trigger: Attachments}}
```

**Expected Response**:
```json
{
  "success": true,
  "sessionId": "zapier-email-1704449400000",
  "emailId": "18c2f1a2b3d4e5f6",
  "analysis": {
    "classification": {
      "priority": "urgent",
      "category": "bug_report",
      "confidence": 0.92
    },
    "summary": {
      "problem": "Payment gateway timeout during checkout",
      "context": "E-commerce transaction failure",
      "ask": "Fix payment processing system"
    },
    "replyDraft": {
      "subject": "Re: Payment gateway timeout error",
      "body": "Hi there,\n\nThank you for reporting this payment issue...",
      "tone": "professional"
    }
  }
}
```

### **Step 3: Action - Gmail "Send Email" (Reply Draft)**

**App**: Gmail  
**Action**: Send Email  

**Configuration**:
```
To: {{Gmail Trigger: From Email}}
Subject: {{FollowThrough AI: Reply Subject}}
Body: {{FollowThrough AI: Reply Body}}
Reply To: {{Gmail Trigger: Message ID}}
```

**Body Template**:
```
{{FollowThrough AI: Reply Body}}

---
This response was generated by FollowThrough AI
Session ID: {{FollowThrough AI: Session ID}}
Priority: {{FollowThrough AI: Priority}}
Category: {{FollowThrough AI: Category}}
```

### **Step 4: Action - Slack Notification (Optional)**

**App**: Slack  
**Action**: Send Channel Message  

**Configuration**:
```
Channel: #support-alerts
Message: üö® High Priority Email Received

üìß From: {{Gmail Trigger: From Email}}
üìù Subject: {{Gmail Trigger: Subject}}
üè∑Ô∏è Category: {{FollowThrough AI: Category}}
‚ö° Priority: {{FollowThrough AI: Priority}}
üìä Confidence: {{FollowThrough AI: Confidence}}

üí¨ AI Summary: {{FollowThrough AI: Problem}}

üîó View in Gmail: {{Gmail Trigger: Link}}
üìã Session: {{FollowThrough AI: Session ID}}
```

## üé® **Template Variations**

### **Variation 1: Support Ticket Creation**

Add after Step 2:
**App**: Jira/Linear/GitHub Issues  
**Action**: Create Issue  

```
Title: [{{FollowThrough AI: Category}}] {{Gmail Trigger: Subject}}
Description: 
Customer: {{Gmail Trigger: From Email}}
Priority: {{FollowThrough AI: Priority}}
Problem: {{FollowThrough AI: Problem}}
Context: {{FollowThrough AI: Context}}

Original Email:
{{Gmail Trigger: Body Plain}}
```

### **Variation 2: CRM Contact Update**

Add after Step 2:
**App**: HubSpot/Salesforce  
**Action**: Update Contact  

```
Email: {{Gmail Trigger: From Email}}
Last Contact Date: {{Gmail Trigger: Date}}
Last Contact Type: Email - {{FollowThrough AI: Category}}
Notes: AI Analysis - Priority: {{FollowThrough AI: Priority}}, Issue: {{FollowThrough AI: Problem}}
```

### **Variation 3: Urgent Escalation**

Add Filter after Step 2:
**Condition**: `{{FollowThrough AI: Priority}}` equals `urgent`

**Then Add**:
**App**: SMS/Phone  
**Action**: Send SMS  

```
To: +1234567890 (manager phone)
Message: üö® URGENT EMAIL ALERT
From: {{Gmail Trigger: From Email}}
Issue: {{FollowThrough AI: Problem}}
Session: {{FollowThrough AI: Session ID}}
```

## üîó **Quick Setup Links**

### **One-Click Zap Creation**

```
https://zapier.com/app/editor?
trigger_app=gmail&
trigger_event=new_email&
action_app=followthrough-ai-integration&
action_event=trigger_email_triage&
template=email_triage_basic
```

### **Advanced Multi-Step Template**

```
https://zapier.com/app/editor?
trigger_app=gmail&
action_app=followthrough-ai-integration&
action_app_2=gmail&
action_app_3=slack&
template=email_triage_advanced
```

## üìã **Setup Checklist**

### **Prerequisites**
- [ ] FollowThrough AI account with API access
- [ ] Gmail account connected to Zapier
- [ ] API key generated in FollowThrough AI dashboard
- [ ] Slack workspace connected (if using notifications)

### **Configuration Steps**
1. [ ] **Connect Gmail**: Authorize Gmail access in Zapier
2. [ ] **Set Email Filter**: Configure `is:unread to:support@yourcompany.com`
3. [ ] **Connect FollowThrough AI**: Add API key in authentication
4. [ ] **Map Email Fields**: Connect Gmail trigger data to AI action
5. [ ] **Configure Reply**: Set up automated response sending
6. [ ] **Add Notifications**: Connect Slack for team alerts
7. [ ] **Test Zap**: Send test email to verify workflow

### **Testing Instructions**
```bash
# 1. Send test email to your support address
echo "Test payment issue with checkout process" | mail -s "Payment Error Test" support@yourcompany.com

# 2. Check Zapier task history
# 3. Verify AI analysis in FollowThrough AI dashboard
# 4. Confirm reply was sent
# 5. Check Slack notification (if configured)
```

## üìä **Expected Results**

### **Processing Time**
- **Email Receipt to Analysis**: 5-10 seconds
- **Reply Draft Generation**: 3-5 seconds
- **Total Automation Time**: 10-15 seconds

### **Accuracy Metrics**
- **Priority Detection**: 85-95% accuracy
- **Category Classification**: 80-90% accuracy
- **Sentiment Analysis**: 90-95% accuracy
- **Reply Relevance**: 85-92% user satisfaction

### **Time Savings**
- **Manual Triage**: 5-10 minutes per email
- **Automated Triage**: 10-15 seconds per email
- **Time Saved**: 95%+ reduction in processing time

## üéØ **Use Case Examples**

### **Customer Support Team**
```
Trigger: is:unread to:support@company.com
Processing: AI categorizes as bug/feature/question
Action: Creates Jira ticket + sends acknowledgment
Result: 90% faster first response time
```

### **Sales Team**
```
Trigger: is:unread to:sales@company.com
Processing: AI detects lead quality and intent
Action: Updates CRM + notifies sales rep
Result: 70% faster lead qualification
```

### **Technical Support**
```
Trigger: is:unread to:tech@company.com
Processing: AI identifies technical issues
Action: Routes to appropriate engineer + creates ticket
Result: 80% faster issue resolution
```

## üîß **Troubleshooting**

### **Common Issues**

1. **Zap Not Triggering**
   - Check Gmail search string syntax
   - Verify email matches filter criteria
   - Ensure Gmail connection is active

2. **AI Analysis Fails**
   - Verify API key is correct
   - Check FollowThrough AI server status
   - Review email content for processing issues

3. **Reply Not Sending**
   - Confirm Gmail send permissions
   - Check reply-to email format
   - Verify email body content

### **Debug Commands**
```bash
# Test API connection
curl -X POST https://your-server.com/api/zapier/webhooks/gmail/test \
  -H "x-api-key: your_api_key" \
  -d '{"test": true}'

# Check webhook subscription
curl -X POST https://your-server.com/api/zapier/webhooks/gmail/subscribe \
  -H "x-api-key: your_api_key" \
  -d '{"targetUrl": "https://hooks.zapier.com/test", "userId": "test"}'
```

## üöÄ **Advanced Features**

### **Smart Routing**
Add filters to route emails based on AI analysis:
- **Urgent** ‚Üí Immediate SMS alert
- **Bug Report** ‚Üí Jira ticket creation
- **Feature Request** ‚Üí Product team notification
- **Complaint** ‚Üí Customer success escalation

### **Learning Integration**
Connect to feedback systems:
- Track reply effectiveness
- Monitor customer satisfaction
- Improve AI accuracy over time

### **Multi-Language Support**
Configure for international support:
- Detect email language
- Generate replies in customer's language
- Route to appropriate language-specific team

## üìà **Success Metrics**

Track these KPIs to measure success:
- **Response Time**: Average time to first response
- **Resolution Time**: Time to issue resolution
- **Customer Satisfaction**: CSAT scores on AI-generated replies
- **Team Efficiency**: Emails processed per hour
- **Accuracy Rate**: Percentage of correctly categorized emails

---

**üéâ Ready to automate your email triage? Click the setup link above to create your Zap in 5 minutes!** 